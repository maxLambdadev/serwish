"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=889,exports.ids=[889],exports.modules={48889:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProfilePageModule:()=>ProfilePageModule});var router=__webpack_require__(63111),fesm2020_forms=__webpack_require__(24006),models=__webpack_require__(5871),app_store=__webpack_require__(50055),utils=__webpack_require__(49860),validators=__webpack_require__(90895),Subject=__webpack_require__(13768),operators=__webpack_require__(83292),animations=__webpack_require__(37940),core=__webpack_require__(94650),ngrx_store=__webpack_require__(85065),services=__webpack_require__(28869),common=__webpack_require__(36895),icon_component=__webpack_require__(65746),image_component=__webpack_require__(18203),image_upload_component=__webpack_require__(11314),input_component=__webpack_require__(3497),radio_component=__webpack_require__(70905),button_component=__webpack_require__(91029),ngx_translate_core=__webpack_require__(89383),generateThumb_pipe=__webpack_require__(59245);function ProfilePageComponent_div_6_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",32),core._UZ(1,"sw-icon",33),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("iconName","no-img")("iconSize","size-24"))}function ProfilePageComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"sw-image",34),core.ALo(2,"generateThumb"),core.BQk()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("src",core.xi3(2,4,ctx_r1.user.image,"228x228"))("alt",ctx_r1.user.name)("absolute",!0)("noSRCSET",!0)}}function ProfilePageComponent_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"sw-image",34),core.BQk()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("src",ctx_r2.user.extraPic)("alt",ctx_r2.user.name)("absolute",!0)("noSRCSET",!0)}}function ProfilePageComponent_div_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",35),core._uU(1),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.hij(" ",ctx_r3.user.name," ")}}function ProfilePageComponent_div_12_ng_container_1_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"translate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"Profile.SPECIALIST")," "))}function ProfilePageComponent_div_12_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"translate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"Profile.CLIENT")," "))}function ProfilePageComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",36),core.YNc(1,ProfilePageComponent_div_12_ng_container_1_Template,3,3,"ng-container",7),core.YNc(2,ProfilePageComponent_div_12_ng_container_2_Template,3,3,"ng-container",7),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngIf",(null==ctx_r4.user?null:ctx_r4.user.client_type)===ctx_r4.CLIENT_TYPE.EMPLOYEE),core.xp6(1),core.Q6J("ngIf",(null==ctx_r4.user?null:ctx_r4.user.client_type)===ctx_r4.CLIENT_TYPE.CLIENT)}}function ProfilePageComponent_div_24_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"div",37),core.NdJ("click",__name(function(){core.CHM(_r19);const ctx_r18=core.oxw();return core.KtG(ctx_r18.clickEdit(ctx_r18.PROFILE_GROUPS.OVERAL_INFO))},"ProfilePageComponent_div_24_Template_div_click_0_listener")),core._UZ(1,"sw-icon",33),core.qZA()}2&rf&&(core.xp6(1),core.Q6J("iconName","edit")("iconSize","size-16"))}function ProfilePageComponent_div_38_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"div",38)(1,"div",39)(2,"sw-button",40),core.NdJ("clickAction",__name(function(){core.CHM(_r21);const ctx_r20=core.oxw();return core.KtG(ctx_r20.updateOveralInfo())},"ProfilePageComponent_div_38_Template_sw_button_clickAction_2_listener")),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",41)(6,"sw-button",42),core.NdJ("clickAction",__name(function(){core.CHM(_r21);const ctx_r22=core.oxw();return core.KtG(ctx_r22.cancelEdit())},"ProfilePageComponent_div_38_Template_sw_button_clickAction_6_listener")),core._uU(7),core.ALo(8,"translate"),core.qZA()()()}2&rf&&(core.Q6J("@collapseAnimation",void 0),core.xp6(2),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(4,5,"Profile.SAVE")," "),core.xp6(3),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(8,7,"Profile.CANCEL")," "))}function ProfilePageComponent_div_48_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.TgZ(0,"div",37),core.NdJ("click",__name(function(){core.CHM(_r24);const ctx_r23=core.oxw();return core.KtG(ctx_r23.clickEdit(ctx_r23.PROFILE_GROUPS.PHONE_NUMBER))},"ProfilePageComponent_div_48_Template_div_click_0_listener")),core._UZ(1,"sw-icon",33),core.qZA()}2&rf&&(core.xp6(1),core.Q6J("iconName","edit")("iconSize","size-16"))}function ProfilePageComponent_div_49_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",43),core._uU(1),core.qZA()),2&rf){const ctx_r9=core.oxw();core.xp6(1),core.hij(" ",ctx_r9.counter," ")}}function ProfilePageComponent_ng_container_51_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",20),core._UZ(2,"sw-input",44),core.ALo(3,"translate"),core.qZA(),core.BQk()),2&rf){core.oxw();const _r5=core.MAs(15);core.xp6(2),core.Q6J("name","phone")("size","medium")("type","title-in")("placeholderDraft","555 555 555")("labelText",core.lcZ(3,9,"Registration.PHONE_NUMBER"))("inputType","tel")("showErrors",_r5.submitted)("required",!0)("mask","000 000 000")}}function ProfilePageComponent_ng_container_52_Template(rf,ctx){if(1&rf){const _r26=core.EpF();core.ynx(0),core.TgZ(1,"div",20)(2,"sw-input",45),core.ALo(3,"translate"),core.TgZ(4,"sw-button",46),core.NdJ("clickAction",__name(function(){core.CHM(_r26);const ctx_r25=core.oxw();return core.KtG(ctx_r25.getVerificationCode())},"ProfilePageComponent_ng_container_52_Template_sw_button_clickAction_4_listener")),core._uU(5),core.ALo(6,"translate"),core.qZA()()(),core.TgZ(7,"div",20),core._UZ(8,"sw-input",47),core.ALo(9,"translate"),core.qZA(),core.BQk()}if(2&rf){const ctx_r11=core.oxw(),_r5=core.MAs(15);core.xp6(2),core.Q6J("name","phone")("size","medium")("type","title-in")("placeholderDraft","555 555 555")("labelText",core.lcZ(3,19,"Registration.NEW_PHONE_NUMBER"))("inputType","tel")("showErrors",_r5.submitted)("required",!0)("mask","000 000 000"),core.xp6(2),core.Q6J("disabled",ctx_r11.waitingForCode)("size","size-40"),core.xp6(1),core.hij(" ",core.lcZ(6,21,"Registration.SEND_CODE")," "),core.xp6(3),core.Q6J("size","medium")("type","title-in")("placeholderDraft","1234")("labelText",core.lcZ(9,23,"Registration.SMS_CODE"))("inputType","number")("required",!0)("showErrors",_r5.submitted)}}function ProfilePageComponent_div_53_Template(rf,ctx){if(1&rf){const _r28=core.EpF();core.TgZ(0,"div",38)(1,"div",39)(2,"sw-button",40),core.NdJ("clickAction",__name(function(){core.CHM(_r28);const ctx_r27=core.oxw();return core.KtG(ctx_r27.updatePhone())},"ProfilePageComponent_div_53_Template_sw_button_clickAction_2_listener")),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",41)(6,"sw-button",42),core.NdJ("clickAction",__name(function(){core.CHM(_r28);const ctx_r29=core.oxw();return core.KtG(ctx_r29.cancelEdit())},"ProfilePageComponent_div_53_Template_sw_button_clickAction_6_listener")),core._uU(7),core.ALo(8,"translate"),core.qZA()()()}2&rf&&(core.Q6J("@collapseAnimation",void 0),core.xp6(2),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(4,5,"Profile.SAVE")," "),core.xp6(3),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(8,7,"Profile.CANCEL")," "))}function ProfilePageComponent_div_60_Template(rf,ctx){if(1&rf){const _r31=core.EpF();core.TgZ(0,"div",37),core.NdJ("click",__name(function(){core.CHM(_r31);const ctx_r30=core.oxw();return core.KtG(ctx_r30.clickEdit(ctx_r30.PROFILE_GROUPS.PASSWORD))},"ProfilePageComponent_div_60_Template_div_click_0_listener")),core._UZ(1,"sw-icon",33),core.qZA()}2&rf&&(core.xp6(1),core.Q6J("iconName","edit")("iconSize","size-16"))}function ProfilePageComponent_div_67_Template(rf,ctx){if(1&rf){const _r33=core.EpF();core.TgZ(0,"div",38)(1,"div",39)(2,"sw-button",40),core.NdJ("clickAction",__name(function(){core.CHM(_r33);const ctx_r32=core.oxw();return core.KtG(ctx_r32.updatePassword())},"ProfilePageComponent_div_67_Template_sw_button_clickAction_2_listener")),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",41)(6,"sw-button",42),core.NdJ("clickAction",__name(function(){core.CHM(_r33);const ctx_r34=core.oxw();return core.KtG(ctx_r34.cancelEdit())},"ProfilePageComponent_div_67_Template_sw_button_clickAction_6_listener")),core._uU(7),core.ALo(8,"translate"),core.qZA()()()}2&rf&&(core.Q6J("@collapseAnimation",void 0),core.xp6(2),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(4,5,"Profile.SAVE")," "),core.xp6(3),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(8,7,"Profile.CANCEL")," "))}function ProfilePageComponent_ng_container_68_div_9_Template(rf,ctx){if(1&rf){const _r40=core.EpF();core.TgZ(0,"div",37),core.NdJ("click",__name(function(){core.CHM(_r40);const ctx_r39=core.oxw(2);return core.KtG(ctx_r39.clickEdit(ctx_r39.PROFILE_GROUPS.SPECIALIST_INFO))},"ProfilePageComponent_ng_container_68_div_9_Template_div_click_0_listener")),core._UZ(1,"sw-icon",33),core.qZA()}2&rf&&(core.xp6(1),core.Q6J("iconName","edit")("iconSize","size-16"))}function ProfilePageComponent_ng_container_68_ng_container_16_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"sw-input",50),core.ALo(2,"translate"),core.BQk()),2&rf){core.oxw(2);const _r5=core.MAs(15);core.xp6(1),core.Q6J("name","id")("size","medium")("type","title-in")("placeholderDraft","00000000000")("labelText",core.lcZ(2,8,"Registration.ID_NUMBER"))("inputType","number")("showErrors",_r5.submitted)("required",!0)}}function ProfilePageComponent_ng_container_68_ng_container_17_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"sw-input",50),core.ALo(2,"translate"),core.BQk()),2&rf){core.oxw(2);const _r5=core.MAs(15);core.xp6(1),core.Q6J("name","id")("size","medium")("type","title-in")("placeholderDraft","00000000000")("labelText",core.lcZ(2,8,"Registration.IDENTIFICATION_CODE"))("inputType","number")("showErrors",_r5.submitted)("required",!0)}}function ProfilePageComponent_ng_container_68_div_18_Template(rf,ctx){if(1&rf){const _r42=core.EpF();core.TgZ(0,"div",38)(1,"div",39)(2,"sw-button",40),core.NdJ("clickAction",__name(function(){core.CHM(_r42);const ctx_r41=core.oxw(2);return core.KtG(ctx_r41.updateSpecialistInfo())},"ProfilePageComponent_ng_container_68_div_18_Template_sw_button_clickAction_2_listener")),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",41)(6,"sw-button",42),core.NdJ("clickAction",__name(function(){core.CHM(_r42);const ctx_r43=core.oxw(2);return core.KtG(ctx_r43.cancelEdit())},"ProfilePageComponent_ng_container_68_div_18_Template_sw_button_clickAction_6_listener")),core._uU(7),core.ALo(8,"translate"),core.qZA()()()}2&rf&&(core.Q6J("@collapseAnimation",void 0),core.xp6(2),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(4,5,"Profile.SAVE")," "),core.xp6(3),core.Q6J("size","size-56"),core.xp6(1),core.hij(" ",core.lcZ(8,7,"Profile.CANCEL")," "))}__name(ProfilePageComponent_div_6_Template,"ProfilePageComponent_div_6_Template"),__name(ProfilePageComponent_ng_container_7_Template,"ProfilePageComponent_ng_container_7_Template"),__name(ProfilePageComponent_ng_container_8_Template,"ProfilePageComponent_ng_container_8_Template"),__name(ProfilePageComponent_div_11_Template,"ProfilePageComponent_div_11_Template"),__name(ProfilePageComponent_div_12_ng_container_1_Template,"ProfilePageComponent_div_12_ng_container_1_Template"),__name(ProfilePageComponent_div_12_ng_container_2_Template,"ProfilePageComponent_div_12_ng_container_2_Template"),__name(ProfilePageComponent_div_12_Template,"ProfilePageComponent_div_12_Template"),__name(ProfilePageComponent_div_24_Template,"ProfilePageComponent_div_24_Template"),__name(ProfilePageComponent_div_38_Template,"ProfilePageComponent_div_38_Template"),__name(ProfilePageComponent_div_48_Template,"ProfilePageComponent_div_48_Template"),__name(ProfilePageComponent_div_49_Template,"ProfilePageComponent_div_49_Template"),__name(ProfilePageComponent_ng_container_51_Template,"ProfilePageComponent_ng_container_51_Template"),__name(ProfilePageComponent_ng_container_52_Template,"ProfilePageComponent_ng_container_52_Template"),__name(ProfilePageComponent_div_53_Template,"ProfilePageComponent_div_53_Template"),__name(ProfilePageComponent_div_60_Template,"ProfilePageComponent_div_60_Template"),__name(ProfilePageComponent_div_67_Template,"ProfilePageComponent_div_67_Template"),__name(ProfilePageComponent_ng_container_68_div_9_Template,"ProfilePageComponent_ng_container_68_div_9_Template"),__name(ProfilePageComponent_ng_container_68_ng_container_16_Template,"ProfilePageComponent_ng_container_68_ng_container_16_Template"),__name(ProfilePageComponent_ng_container_68_ng_container_17_Template,"ProfilePageComponent_ng_container_68_ng_container_17_Template"),__name(ProfilePageComponent_ng_container_68_div_18_Template,"ProfilePageComponent_ng_container_68_div_18_Template");const _c0=__name(function(a0){return{" sw-profile-page__form__group__content--editMode":a0}},"_c0");function ProfilePageComponent_ng_container_68_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",15)(2,"div",16)(3,"h3",17)(4,"span"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.YNc(9,ProfilePageComponent_ng_container_68_div_9_Template,2,2,"div",18),core.qZA(),core.TgZ(10,"div",29)(11,"div",20),core._UZ(12,"ws-radio",48),core.ALo(13,"translate"),core._UZ(14,"ws-radio",49),core.ALo(15,"translate"),core.qZA(),core.YNc(16,ProfilePageComponent_ng_container_68_ng_container_16_Template,3,10,"ng-container",7),core.YNc(17,ProfilePageComponent_ng_container_68_ng_container_17_Template,3,10,"ng-container",7),core.qZA(),core.YNc(18,ProfilePageComponent_ng_container_68_div_18_Template,9,9,"div",25),core.qZA(),core.BQk()),2&rf){const ctx_r15=core.oxw();core.xp6(5),core.hij(" ",core.lcZ(6,9,"Profile.SPECIALISTS")," "),core.xp6(2),core.hij(" ",core.lcZ(8,11,"Profile.INFO")," "),core.xp6(2),core.Q6J("ngIf",!ctx_r15.isEditMode),core.xp6(1),core.Q6J("ngClass",core.VKq(17,_c0,ctx_r15.isEditMode&&ctx_r15.editingGrop===ctx_r15.PROFILE_GROUPS.SPECIALIST_INFO)),core.xp6(2),core.s9C("label",core.lcZ(13,13,"Registration.PERSONAL")),core.xp6(2),core.s9C("label",core.lcZ(15,15,"Registration.BUSINESS")),core.xp6(2),core.Q6J("ngIf",ctx_r15.activeType===ctx_r15.USER_TYPE.PERSONAL),core.xp6(1),core.Q6J("ngIf",ctx_r15.activeType===ctx_r15.USER_TYPE.BUSINESS),core.xp6(1),core.Q6J("ngIf",ctx_r15.isEditMode&&ctx_r15.editingGrop===ctx_r15.PROFILE_GROUPS.SPECIALIST_INFO)}}__name(ProfilePageComponent_ng_container_68_Template,"ProfilePageComponent_ng_container_68_Template");const _c1=__name(function(a0){return{"sw-container--desktop":a0}},"_c1"),_c2=__name(function(a0){return{"sw-profile-page__content--mobile":a0}},"_c2"),_c3=__name(function(a0){return{"sw-profile-page__user--mobile":a0}},"_c3"),_c4=__name(function(a0){return{"sw-profile-page__form--mobile":a0}},"_c4"),_c5=__name(function(a0){return{"sw-profile-page__form__group__content--editMode":a0}},"_c5");var ProfileGroups,ProfileGroups2;(ProfileGroups2=ProfileGroups||(ProfileGroups={})).OVERAL_INFO="overal-info",ProfileGroups2.PHONE_NUMBER="phone-number",ProfileGroups2.PASSWORD="password",ProfileGroups2.SPECIALIST_INFO="specialist-info";class ProfilePageComponent{constructor(store,smsService,userServuce,cdr,deviceService){this.store=store,this.smsService=smsService,this.userServuce=userServuce,this.cdr=cdr,this.deviceService=deviceService,this.className=!0,this.device=this.deviceService.getDevice(),this.DEVICE=models.AS,this.CLIENT_TYPE=models.Bh,this.PROFILE_GROUPS=ProfileGroups,this.USER_TYPE=models.FW,this.user$=this.store.select(app_store.dyD),this.isEditMode=!1,this.waitingForCode=!1,this.counter=30,this.unsubscribe$=new Subject.Subject,this.userForm=new fesm2020_forms.nJ({overalInfo:new fesm2020_forms.nJ({name:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.minLength(3)]}),gender:new fesm2020_forms.p4("male",{}),date_of_birth:new fesm2020_forms.p4("",{validators:fesm2020_forms.kI.required})}),personal:new fesm2020_forms.p4(models.FW.PERSONAL,{validators:fesm2020_forms.kI.required}),id_number:new fesm2020_forms.p4("",{}),phone_number:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(9)]}),new_phone_number:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(9)]}),sms_validation:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(4),fesm2020_forms.kI.maxLength(4)]}),password:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(6)]}),password_confirmation:new fesm2020_forms.p4("",{validators:[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(6)]})}),this.userForm.setValidators((0,validators.a)())}ngOnInit(){this.userForm.get("overalInfo").disable(),this.userForm.get("phone_number").disable(),this.userForm.get("password").disable(),this.userForm.get("password_confirmation").disable(),this.userForm.get("id_number").disable(),this.userForm.get("personal").disable(),this.user$.pipe((0,operators.Rs)(this.unsubscribe$)).subscribe(user=>{this.user=user,this.userId=user.id,this.setFormValues(user),this.cdr.markForCheck()})}get activeType(){return this.userForm.controls.personal.value}onSubmit(){}getVerificationCode(){let phoneNumber=parseInt(this.userForm.controls.new_phone_number.value),phoneNumberValid=this.userForm.controls.new_phone_number.valid;this.waitingForCode||phoneNumberValid&&(this.waitingForCode=!0,this.smsService.sendSMS(phoneNumber).pipe((0,operators.Rs)(this.unsubscribe$)).subscribe(()=>{let intervalId=setInterval(()=>{this.counter=this.counter-1,0===this.counter&&(this.counter=30,clearInterval(intervalId),this.waitingForCode=!1),this.cdr.markForCheck()},1e3)}))}updatePhone(){let newPhoneNumber=parseInt(this.userForm.controls.new_phone_number.value),sms_validation=parseInt(this.userForm.controls.sms_validation.value),smsNumberValid=this.userForm.controls.sms_validation.valid,phoneNumberValid=this.userForm.controls.new_phone_number.valid;if(smsNumberValid&&phoneNumberValid){let data={new_phone_number:newPhoneNumber,sms_validation};this.userServuce.updateUserPhone(data).subscribe(res=>{"incorrect code"===res.message?this.userForm.controls.sms_validation.setErrors({invalidSMS:!0}):(this.store.dispatch((0,app_store.BT0)()),this.cancelEdit()),this.cdr.markForCheck()})}}updateOveralInfo(){let overalInfo=this.userForm.get("overalInfo").value;this.userForm.get("overalInfo").valid&&this.userServuce.updateUserOveralInfo(overalInfo).subscribe(_res=>{this.store.dispatch((0,app_store.BT0)()),this.cancelEdit(),this.cdr.markForCheck()})}updateSpecialistInfo(){let id_Number=this.userForm.get("id_number").value,personal=this.userForm.get("personal").value,idNumberValid=this.userForm.get("id_number").valid,personalValid=this.userForm.get("personal").valid;if(idNumberValid&&personalValid){let data={id_number:id_Number,personal};this.userServuce.updateSpecialistInfo(data).subscribe(_res=>{this.store.dispatch((0,app_store.BT0)()),this.cancelEdit(),this.cdr.markForCheck()})}}updatePassword(){let password=this.userForm.get("password").value,password_confirmation=this.userForm.get("password_confirmation").value,passwordValid=this.userForm.get("password").valid,passwordConfirmationValid=this.userForm.get("password_confirmation").valid;if(passwordValid&&passwordConfirmationValid){let data={password,password_confirmation};this.userServuce.updatePassword(data).subscribe(_res=>{this.store.dispatch((0,app_store.BT0)()),this.cancelEdit(),this.cdr.markForCheck()})}}setFormValues(user){this.userForm.get("overalInfo.name").setValue(user.name),this.userForm.get("overalInfo.gender").setValue(user.gender),this.userForm.get("overalInfo.date_of_birth").setValue((0,utils.p6)(user.date_of_birth)),this.userForm.get("phone_number").setValue(user.phone_number),this.userForm.get("id_number").setValue(user.id_number),this.userForm.get("personal").setValue(user.personal)}clickEdit(groupName){this.isEditMode||(this.isEditMode=!0,this.editingGrop=groupName,this.checkGropEditStatus())}cancelEdit(){this.isEditMode=!1,this.editingGrop=null,this.userForm.get("overalInfo").disable(),this.userForm.get("phone_number").disable(),this.userForm.get("password").disable(),this.userForm.get("password_confirmation").disable(),this.userForm.get("id_number").disable(),this.userForm.get("personal").disable(),this.checkGropEditStatus()}checkGropEditStatus(){switch(this.editingGrop){case ProfileGroups.OVERAL_INFO:this.userForm.get("overalInfo").enable();break;case ProfileGroups.PHONE_NUMBER:this.userForm.get("phone_number").enable();break;case ProfileGroups.PASSWORD:this.userForm.get("password").enable(),this.userForm.get("password_confirmation").enable();break;case ProfileGroups.SPECIALIST_INFO:this.userForm.get("id_number").enable(),this.userForm.get("personal").enable()}}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete()}}__name(ProfilePageComponent,"ProfilePageComponent"),ProfilePageComponent.\u0275fac=__name(function(t){return new(t||ProfilePageComponent)(core.Y36(ngrx_store.yh),core.Y36(services.tr),core.Y36(services.KD),core.Y36(core.sBO),core.Y36(services.U8))},"ProfilePageComponent_Factory"),ProfilePageComponent.\u0275cmp=core.Xpm({type:ProfilePageComponent,selectors:[["sw-profile-page"]],hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("sw-profile-page",ctx.className)},"ProfilePageComponent_HostBindings"),decls:69,vars:102,consts:[[1,"sw-page","sw-page--profile"],[1,"sw-container",3,"ngClass"],[1,"sw-profile-page__content",3,"ngClass"],[1,"sw-profile-page__user",3,"ngClass"],[1,"sw-profile-page__user__content"],[1,"sw-profile-page__user__image"],["class","sw-profile-page__user__image-empty",4,"ngIf"],[4,"ngIf"],[1,"sw-profile-page__user__image-upload"],[3,"alreadyHasImage","uploadDestination","userId"],["class","sw-profile-page__user__name",4,"ngIf"],["class","sw-profile-page__user__type",4,"ngIf"],[1,"sw-profile-page__form",3,"ngClass"],[1,"sw-profile-page__form",3,"formGroup","ngSubmit"],["localForm","ngForm"],[1,"sw-profile-page__form__group"],[1,"sw-profile-page__form__group__header"],[1,"sw-profile-page__form__group__title"],["class","sw-profile-page__form__group__edit",3,"click",4,"ngIf"],["formGroupName","overalInfo",1,"sw-profile-page__form__group__content",3,"ngClass"],[1,"sw-profile-page__form__group__item"],["formControlName","name",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required"],["formControlName","gender","groupName","gender","valueName","male",3,"label"],["formControlName","gender","groupName","gender","valueName","female",3,"label"],["id","requestdate","formControlName","date_of_birth",3,"size","type","placeholderDraft","labelText","inputType","showErrors","required"],["class","sw-profile-page__form__group__actions",4,"ngIf"],[1,"sw-profile-page__form__group__header","sw-profile-page__form__group__header--withCount"],[1,"sw-profile-page__form__group__header__content"],["class","sw-profile-page__form__counter",4,"ngIf"],[1,"sw-profile-page__form__group__content",3,"ngClass"],["formControlName","password",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required"],["formControlName","password_confirmation",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required"],[1,"sw-profile-page__user__image-empty"],[3,"iconName","iconSize"],[3,"src","alt","absolute","noSRCSET"],[1,"sw-profile-page__user__name"],[1,"sw-profile-page__user__type"],[1,"sw-profile-page__form__group__edit",3,"click"],[1,"sw-profile-page__form__group__actions"],[1,"sw-profile-page__form__action","sw-profile-page__form__action--save"],["swPrimaryButton","",3,"size","clickAction"],[1,"sw-profile-page__form__action","sw-profile-page__form__action--cancel"],["swWhiteButton","",3,"size","clickAction"],[1,"sw-profile-page__form__counter"],["formControlName","phone_number",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required","mask"],["swRightIconInput","","formControlName","new_phone_number",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required","mask"],["righticon","","swSecondaryButton","",3,"disabled","size","clickAction"],["formControlName","sms_validation",3,"size","type","placeholderDraft","labelText","inputType","required","showErrors"],["formControlName","personal","groupName","personal","valueName","personal",3,"label"],["formControlName","personal","groupName","personal","valueName","business",3,"label"],["formControlName","id_number",3,"name","size","type","placeholderDraft","labelText","inputType","showErrors","required"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),core.YNc(6,ProfilePageComponent_div_6_Template,2,2,"div",6),core.YNc(7,ProfilePageComponent_ng_container_7_Template,3,7,"ng-container",7),core.YNc(8,ProfilePageComponent_ng_container_8_Template,2,4,"ng-container",7),core.TgZ(9,"div",8),core._UZ(10,"sw-image-upload",9),core.qZA()(),core.YNc(11,ProfilePageComponent_div_11_Template,2,1,"div",10),core.YNc(12,ProfilePageComponent_div_12_Template,3,2,"div",11),core.qZA()(),core.TgZ(13,"div",12)(14,"form",13,14),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit()},"ProfilePageComponent_Template_form_ngSubmit_14_listener")),core.TgZ(16,"div",15)(17,"div",16)(18,"h3",17)(19,"span"),core._uU(20),core.ALo(21,"translate"),core.qZA(),core._uU(22),core.ALo(23,"translate"),core.qZA(),core.YNc(24,ProfilePageComponent_div_24_Template,2,2,"div",18),core.qZA(),core.TgZ(25,"div",19)(26,"div",20),core._UZ(27,"sw-input",21),core.ALo(28,"translate"),core.ALo(29,"translate"),core.qZA(),core.TgZ(30,"div",20),core._UZ(31,"ws-radio",22),core.ALo(32,"translate"),core._UZ(33,"ws-radio",23),core.ALo(34,"translate"),core.qZA(),core.TgZ(35,"div",20),core._UZ(36,"sw-input",24),core.ALo(37,"translate"),core.qZA()(),core.YNc(38,ProfilePageComponent_div_38_Template,9,9,"div",25),core.qZA(),core.TgZ(39,"div",15)(40,"div",26)(41,"div",27)(42,"h3",17)(43,"span"),core._uU(44),core.ALo(45,"translate"),core.qZA(),core._uU(46),core.ALo(47,"translate"),core.qZA(),core.YNc(48,ProfilePageComponent_div_48_Template,2,2,"div",18),core.qZA(),core.YNc(49,ProfilePageComponent_div_49_Template,2,1,"div",28),core.qZA(),core.TgZ(50,"div",29),core.YNc(51,ProfilePageComponent_ng_container_51_Template,4,11,"ng-container",7),core.YNc(52,ProfilePageComponent_ng_container_52_Template,10,25,"ng-container",7),core.qZA(),core.YNc(53,ProfilePageComponent_div_53_Template,9,9,"div",25),core.qZA(),core.TgZ(54,"div",15)(55,"div",16)(56,"h3",17)(57,"span"),core._uU(58),core.ALo(59,"translate"),core.qZA()(),core.YNc(60,ProfilePageComponent_div_60_Template,2,2,"div",18),core.qZA(),core.TgZ(61,"div",29)(62,"div",20),core._UZ(63,"sw-input",30),core.ALo(64,"translate"),core._UZ(65,"sw-input",31),core.ALo(66,"translate"),core.qZA()(),core.YNc(67,ProfilePageComponent_div_67_Template,9,9,"div",25),core.qZA(),core.YNc(68,ProfilePageComponent_ng_container_68_Template,19,19,"ng-container",7),core.qZA()()()()()),2&rf){const _r5=core.MAs(15);core.xp6(1),core.Q6J("ngClass",core.VKq(88,_c1,ctx.device===ctx.DEVICE.DESKTOP)),core.xp6(1),core.Q6J("ngClass",core.VKq(90,_c2,ctx.device===ctx.DEVICE.MOBILE)),core.xp6(1),core.Q6J("ngClass",core.VKq(92,_c3,ctx.device===ctx.DEVICE.MOBILE)),core.xp6(3),core.Q6J("ngIf",!(null!=ctx.user&&ctx.user.image||ctx.user.extraPic)),core.xp6(1),core.Q6J("ngIf",!ctx.user.extraPic&&ctx.user.image),core.xp6(1),core.Q6J("ngIf",ctx.user.extraPic),core.xp6(2),core.Q6J("alreadyHasImage",null==ctx.user?null:ctx.user.image)("uploadDestination","specialist")("userId",ctx.userId),core.xp6(1),core.Q6J("ngIf",null==ctx.user?null:ctx.user.name),core.xp6(1),core.Q6J("ngIf",null==ctx.user?null:ctx.user.client_type),core.xp6(1),core.Q6J("ngClass",core.VKq(94,_c4,ctx.device===ctx.DEVICE.MOBILE)),core.xp6(1),core.Q6J("formGroup",ctx.userForm),core.xp6(6),core.hij(" ",core.lcZ(21,64,"Profile.PROFILES")," "),core.xp6(2),core.hij(" ",core.lcZ(23,66,"Profile.INFO")," "),core.xp6(2),core.Q6J("ngIf",!ctx.isEditMode),core.xp6(1),core.Q6J("ngClass",core.VKq(96,_c5,ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.OVERAL_INFO)),core.xp6(2),core.Q6J("name","name")("size","medium")("type","title-in")("placeholderDraft",core.lcZ(28,68,"Registration.FIRST_AND_LAST_NAME_PLACEHOLDER"))("labelText",core.lcZ(29,70,"Registration.FIRST_AND_LAST_NAME"))("inputType","text")("showErrors",_r5.submitted)("required",!0),core.xp6(4),core.s9C("label",core.lcZ(32,72,"Registration.MALE")),core.xp6(2),core.s9C("label",core.lcZ(34,74,"Registration.FEMALE")),core.xp6(3),core.Q6J("size","medium")("type","title-in")("placeholderDraft","06.01.1997")("labelText",core.lcZ(37,76,"Registration.BIRTH_DATE"))("inputType","date")("showErrors",_r5.submitted)("required",!0),core.xp6(2),core.Q6J("ngIf",ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.OVERAL_INFO),core.xp6(6),core.hij(" ",core.lcZ(45,78,"Profile.PHONE")," "),core.xp6(2),core.hij(" ",core.lcZ(47,80,"Profile.NUMBER")," "),core.xp6(2),core.Q6J("ngIf",!ctx.isEditMode),core.xp6(1),core.Q6J("ngIf",30!==ctx.counter&&ctx.isEditMode),core.xp6(1),core.Q6J("ngClass",core.VKq(98,_c0,ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.PHONE_NUMBER)),core.xp6(1),core.Q6J("ngIf",!ctx.isEditMode||ctx.editingGrop!==ctx.PROFILE_GROUPS.PHONE_NUMBER),core.xp6(1),core.Q6J("ngIf",ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.PHONE_NUMBER),core.xp6(1),core.Q6J("ngIf",ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.PHONE_NUMBER),core.xp6(5),core.hij(" ",core.lcZ(59,82,"Profile.PASSWORD")," "),core.xp6(2),core.Q6J("ngIf",!ctx.isEditMode),core.xp6(1),core.Q6J("ngClass",core.VKq(100,_c0,ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.PASSWORD)),core.xp6(2),core.Q6J("name","password")("size","medium")("type","title-in")("placeholderDraft","*******")("labelText",core.lcZ(64,84,"Registration.PASSWORD"))("inputType","password")("showErrors",_r5.submitted)("required",!0),core.xp6(2),core.Q6J("name","password")("size","medium")("type","title-in")("placeholderDraft","*******")("labelText",core.lcZ(66,86,"Registration.REPEAT_PASSWORD"))("inputType","password")("showErrors",_r5.submitted)("required",!0),core.xp6(2),core.Q6J("ngIf",ctx.isEditMode&&ctx.editingGrop===ctx.PROFILE_GROUPS.PASSWORD),core.xp6(1),core.Q6J("ngIf",(null==ctx.user?null:ctx.user.client_type)===ctx.CLIENT_TYPE.EMPLOYEE)}},"ProfilePageComponent_Template"),dependencies:[common.mk,common.O5,icon_component.o,image_component.c,image_upload_component.J,input_component.am,input_component.kB,radio_component.U,fesm2020_forms._Y,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.Q7,button_component.r0,button_component.JL,button_component.aY,button_component._Q,fesm2020_forms.sg,fesm2020_forms.u,fesm2020_forms.x0,ngx_translate_core.X$,generateThumb_pipe.P],styles:['.sw-profile-page__content{display:flex;padding-top:40px}.sw-profile-page__content--mobile{flex-direction:column;padding:16px 16px 0}.sw-profile-page__user{width:260px;margin-right:154px;flex-shrink:0;display:flex;flex-direction:column}.sw-profile-page__user__image{display:flex;align-items:center;justify-content:center;margin-bottom:16px;background:#effaff;border-radius:8px;height:228px;position:relative}.sw-profile-page__user__image img{height:228px;width:228px;object-fit:cover;border-radius:8px}.sw-profile-page__user__image-upload{display:none;position:absolute;inset:0;background:var(--primary_20);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:8px;opacity:0;transition:opacity .2s ease-in-out;will-change:opacity;align-items:center;justify-content:center}.sw-profile-page__user__image-empty{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.sw-profile-page__user__content{background:var(--neutral_100);border-radius:16px;padding:16px}.sw-profile-page__user__content:hover .sw-profile-page__user__image-upload{display:flex;opacity:1}.sw-profile-page__user__name{color:var(--primary_100);font-family:var(--body-family);font-size:var(--body-size);font-weight:var(--body-weight);line-height:var(--body-height);letter-spacing:var(--body-spacing)}.sw-profile-page__user__type{color:var(--primary-dark_100);font-family:var(--bodyXS-family);font-size:var(--bodyXS-size);font-weight:var(--bodyXS-weight);line-height:var(--bodyXS-height);letter-spacing:var(--bodyXS-spacing)}.sw-profile-page__user__amount{cursor:pointer;display:flex;align-items:center;align-self:flex-start;height:40px;border:2px solid var(--neutral_100);border-radius:8px;padding:2px;margin-top:32px}.sw-profile-page__user__amount-title{color:var(--primary-dark_100);font-family:var(--bodyS-family);font-size:var(--bodyS-size);font-weight:var(--bodyS-weight);line-height:var(--bodyS-height);letter-spacing:var(--bodyS-spacing);padding-left:20px;padding-right:14px}.sw-profile-page__user__amount-amount{color:var(--primary_100);font-family:var(--h3-bold-family);font-size:var(--h3-bold-size);font-weight:var(--h3-bold-weight);line-height:var(--h3-bold-height);letter-spacing:var(--h3-bold-spacing);background:var(--neutral_100);border-radius:6px;min-width:71px;height:32px;display:flex;align-items:center;justify-content:center;text-align:center}.sw-profile-page__user--mobile{margin-bottom:48px}.sw-profile-page__form{width:100%}.sw-profile-page__form__group{margin-bottom:32px}.sw-profile-page__form__group__header{display:flex;align-items:center;margin-bottom:16px}.sw-profile-page__form__group__header__content{display:flex;align-items:center}.sw-profile-page__form__group__header--withCount{justify-content:space-between}.sw-profile-page__form__group__title{color:var(--primary-dark_100);font-family:var(--h3-family);font-size:var(--h3-size);font-weight:var(--h3-weight);line-height:var(--h3-height);letter-spacing:var(--h3-spacing);font-feature-settings:"case" on}.sw-profile-page__form__group__title span{color:var(--primary_100);font-family:var(--h3-bold-family);font-size:var(--h3-bold-size);font-weight:var(--h3-bold-weight);line-height:var(--h3-bold-height);letter-spacing:var(--h3-bold-spacing)}.sw-profile-page__form__group__edit{cursor:pointer;color:var(--primary-dark_100);margin-left:18px}.sw-profile-page__form__group__content{background:var(--neutral_100);border-radius:16px;padding:16px;transition:box-shadow .1s ease-in}.sw-profile-page__form__group__content--editMode{box-shadow:0 24px 48px -20px #595f6c66}.sw-profile-page__form__group__actions{display:flex;padding-top:16px}.sw-profile-page__form__group__item{display:grid;grid-auto-columns:1fr;grid-auto-flow:column;grid-column-gap:8px;column-gap:8px;width:100%;margin-bottom:8px}.sw-profile-page__form__group__item:last-child{margin-bottom:0}.sw-profile-page__form__action{min-width:165px}.sw-profile-page__form__action--save{margin-right:16px}.sw-profile-page__form__action .sw-button{width:100%}.sw-profile-page__form__counter{color:var(--primary-dark_100);font-family:var(--body-family);font-size:var(--body-size);font-weight:var(--body-weight);line-height:var(--body-height);letter-spacing:var(--body-spacing);font-feature-settings:"case" on;padding-right:14px}\n'],encapsulation:2,data:{animation:[animations.$X]},changeDetection:0});const routes=[{path:"",component:ProfilePageComponent}];class ProfilePageRouting{}__name(ProfilePageRouting,"ProfilePageRouting"),ProfilePageRouting.\u0275fac=__name(function(t){return new(t||ProfilePageRouting)},"ProfilePageRouting_Factory"),ProfilePageRouting.\u0275mod=core.oAB({type:ProfilePageRouting}),ProfilePageRouting.\u0275inj=core.cJS({imports:[router.Bz.forChild(routes),router.Bz]});var icon_module=__webpack_require__(48823),image_module=__webpack_require__(97118),image_upload_module=__webpack_require__(16850),input_module=__webpack_require__(45940),radio_module=__webpack_require__(29582),checkbox_module=__webpack_require__(44221),button_module=__webpack_require__(72145),pipes_module=__webpack_require__(35503),ts=__webpack_require__(95711),icon_registry=__webpack_require__(29434);class ProfilePageModule{constructor(iconRegistry){this.iconRegistry=iconRegistry,this.iconRegistry.register([ts.Pp,ts.LA])}}__name(ProfilePageModule,"ProfilePageModule"),ProfilePageModule.\u0275fac=__name(function(t){return new(t||ProfilePageModule)(core.LFG(icon_registry.L))},"ProfilePageModule_Factory"),ProfilePageModule.\u0275mod=core.oAB({type:ProfilePageModule}),ProfilePageModule.\u0275inj=core.cJS({imports:[common.ez,ProfilePageRouting,ngx_translate_core.aw,icon_module.Q,image_module.$,image_upload_module.l,input_module.g,radio_module.d,checkbox_module.n,fesm2020_forms.u5,button_module.h,fesm2020_forms.UX,pipes_module.D]})}};